<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Angie üíï</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&family=Cinzel:wght@400;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --blush: #f4a7b9;
            --rose: #e8637a;
            --deep: #c0314d;
            --gold: #d4a853;
            --cream: #fdf6f0;
            --dark: #1a0a10;
            --petal1: #ffb3c6;
            --petal2: #ff85a1;
            --petal3: #ffd6e0;
            --leaf: #4a7c59;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: var(--dark);
            font-family: 'Cormorant Garamond', serif;
        }

        /* ===== PANTALLA: CR√âDITOS ===== */
        #pantalla-creditos {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            padding: 40px 20px;
            gap: 0;
        }

        .creditos-inner {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 32px;
            max-width: 520px;
            width: 100%;
        }

        .logo-creditos {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle, #e8637a, #c0314d);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            opacity: 0;
            animation: fadeUp 1.2s ease forwards;
            box-shadow: 0 0 60px rgba(232, 99, 122, 0.4);
        }

        .credito-row {
            text-align: center;
            opacity: 0;
            animation: fadeUp 1s ease forwards;
        }
        .credito-row:nth-child(2) { animation-delay: 0.6s; }
        .credito-row:nth-child(3) { animation-delay: 1.1s; }
        .credito-row:nth-child(4) { animation-delay: 1.6s; }
        .credito-row:nth-child(5) { animation-delay: 2.1s; }
        .credito-row:nth-child(6) { animation-delay: 2.6s; }
        .credito-row:nth-child(7) { animation-delay: 3.1s; }

        .credito-label {
            font-family: 'Cinzel', serif;
            font-size: 0.65rem;
            letter-spacing: 4px;
            color: rgba(255,255,255,0.3);
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        .credito-value {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: #fff;
            text-shadow: 0 0 30px rgba(244, 167, 185, 0.5);
        }

        .credito-fecha {
            font-family: 'Cinzel', serif;
            font-size: 0.9rem;
            letter-spacing: 3px;
            color: var(--gold);
        }

        .credito-cita {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            color: rgba(255,255,255,0.5);
            font-style: italic;
            max-width: 360px;
        }

        .btn-continuar {
            margin-top: 10px;
            padding: 14px 44px;
            border: 1px solid rgba(244, 167, 185, 0.5);
            border-radius: 2px;
            background: transparent;
            color: var(--blush);
            font-family: 'Cinzel', serif;
            font-size: 0.8rem;
            letter-spacing: 4px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.4s ease;
            opacity: 0;
            animation: fadeUp 1s ease forwards;
            animation-delay: 3.8s;
        }

        .btn-continuar:hover {
            background: rgba(244, 167, 185, 0.1);
            border-color: var(--blush);
            box-shadow: 0 0 30px rgba(244, 167, 185, 0.2);
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== PANTALLA: GALER√çA ===== */
        #pantalla-galeria {
            position: fixed;
            inset: 0;
            background: #0d0608;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 90;
        }

        .galeria-overlay {
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at center, rgba(192,49,77,0.08) 0%, transparent 70%);
            pointer-events: none;
        }

        .galeria-numero {
            position: absolute;
            top: 30px;
            right: 40px;
            font-family: 'Cinzel', serif;
            font-size: 0.75rem;
            letter-spacing: 3px;
            color: rgba(255,255,255,0.2);
        }

        .galeria-titulo {
            position: absolute;
            top: 30px;
            left: 40px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.4rem;
            color: rgba(244, 167, 185, 0.4);
        }

        .imagen-wrapper {
            position: relative;
            width: min(420px, 85vw);
            aspect-ratio: 4/5;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 
                0 0 0 1px rgba(244,167,185,0.15),
                0 30px 80px rgba(0,0,0,0.8),
                0 0 100px rgba(192,49,77,0.1);
        }

        .imagen-slide {
            position: absolute;
            inset: 0;
            object-fit: cover;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.2s ease;
        }

        .imagen-slide.active {
            opacity: 1;
        }

        .imagen-caption {
            margin-top: 28px;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            color: rgba(255,255,255,0.4);
            font-style: italic;
            text-align: center;
            letter-spacing: 1px;
            height: 24px;
            transition: opacity 0.8s ease;
        }

        .barra-progreso {
            position: absolute;
            bottom: 35px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .prog-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: rgba(255,255,255,0.15);
            transition: all 0.4s ease;
        }

        .prog-dot.active {
            background: var(--blush);
            box-shadow: 0 0 10px var(--blush);
            transform: scale(1.3);
        }

        .timer-line {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--rose), var(--blush));
            width: 0%;
        }

        .timer-line.run {
            width: 100%;
            transition: width 10s linear;
        }

        /* ===== PANTALLA: MENSAJE PREVIO ===== */
        #pantalla-mensaje {
            position: fixed;
            inset: 0;
            background: #0d0608;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            z-index: 80;
            padding: 40px 30px 30px;
            text-align: center;
            overflow-y: auto;
        }

        .mensaje-texto {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(1.05rem, 3.2vw, 1.5rem);
            color: rgba(255,255,255,0.85);
            line-height: 1.9;
            font-style: italic;
            max-width: 560px;
            opacity: 0;
            animation: fadeUp 1.5s ease forwards 0.5s;
            text-shadow: 0 0 40px rgba(244,167,185,0.3);
            white-space: pre-line;
            margin-top: auto;
            padding-top: 20px;
        }

        .btn-por-eso {
            margin-top: 36px;
            margin-bottom: 20px;
            flex-shrink: 0;
            padding: 16px 44px;
            background: linear-gradient(135deg, var(--rose), var(--deep));
            border: none;
            border-radius: 2px;
            color: #fff;
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            letter-spacing: 5px;
            text-transform: uppercase;
            cursor: pointer;
            opacity: 0;
            animation: fadeUp 1s ease forwards 2s;
            box-shadow: 0 10px 40px rgba(192,49,77,0.4);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-por-eso::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .btn-por-eso:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 60px rgba(192,49,77,0.6);
        }

        .btn-por-eso:hover::before { opacity: 1; }

        @media (max-width: 600px) {
            #pantalla-mensaje {
                justify-content: center;
                padding: 30px 24px 24px;
            }
            .mensaje-texto {
                padding-top: 0;
                margin-top: 0;
                font-size: 1rem;
                line-height: 1.8;
            }
            .btn-por-eso {
                margin-top: 28px;
                padding: 14px 36px;
                font-size: 0.78rem;
                letter-spacing: 4px;
            }
        }

        /* ===== PANTALLA: PROPUESTA ===== */
        #pantalla-propuesta {
            position: fixed;
            inset: 0;
            background: var(--cream);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 70;
            overflow: hidden;
        }

        /* Jard√≠n de flores SVG */
        #jardin {
            position: absolute;
            inset: 0;
            pointer-events: none;
        }

        .flor {
            position: absolute;
            transform-origin: bottom center;
            opacity: 0;
        }

        .tallo {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            background: linear-gradient(to top, #3d6b4a, #5a9068);
            border-radius: 2px;
            transform-origin: bottom;
            transform: translateX(-50%) scaleY(0);
        }

        .cabeza-flor {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) scale(0);
        }

        .petalo {
            position: absolute;
            border-radius: 50% 50% 50% 0;
            transform-origin: bottom right;
        }

        /* Propuesta central */
        .propuesta-contenido {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 20px;
        }

        .propuesta-deco {
            font-size: 2.5rem;
            margin-bottom: 20px;
            opacity: 0;
            animation: none;
        }

        .propuesta-pregunta {
            font-family: 'Cinzel', serif;
            font-size: clamp(1.8rem, 6vw, 3.5rem);
            color: var(--deep);
            line-height: 1.3;
            opacity: 0;
            text-shadow: 0 4px 30px rgba(192,49,77,0.2);
            letter-spacing: 2px;
        }

        .propuesta-pregunta span {
            font-family: 'Dancing Script', cursive;
            font-size: 1.3em;
            color: var(--rose);
        }

        .propuesta-sub {
            margin-top: 16px;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
            color: rgba(192,49,77,0.6);
            font-style: italic;
            opacity: 0;
        }

        .propuesta-botones {
            margin-top: 45px;
            display: flex;
            gap: 20px;
            justify-content: center;
            opacity: 0;
        }

        .btn-si {
            padding: 18px 55px;
            background: linear-gradient(135deg, var(--rose), var(--deep));
            border: none;
            border-radius: 50px;
            color: white;
            font-family: 'Cinzel', serif;
            font-size: 1rem;
            letter-spacing: 4px;
            cursor: pointer;
            box-shadow: 0 10px 40px rgba(192,49,77,0.4);
            transition: all 0.4s ease;
            animation: pulse-btn 2s infinite;
        }

        .btn-si:hover {
            transform: scale(1.08);
            box-shadow: 0 20px 60px rgba(192,49,77,0.7);
        }

        @keyframes pulse-btn {
            0%, 100% { box-shadow: 0 10px 40px rgba(192,49,77,0.4); }
            50% { box-shadow: 0 10px 60px rgba(192,49,77,0.7), 0 0 80px rgba(232,99,122,0.3); }
        }

        .btn-todavia {
            padding: 18px 30px;
            background: transparent;
            border: 1px solid rgba(192,49,77,0.3);
            border-radius: 50px;
            color: rgba(192,49,77,0.5);
            font-family: 'Cormorant Garamond', serif;
            font-size: 0.9rem;
            font-style: italic;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-todavia:hover {
            border-color: rgba(192,49,77,0.6);
            color: rgba(192,49,77,0.8);
        }

        /* P√©talos cayendo */
        .petalo-cae {
            position: absolute;
            border-radius: 50% 50% 50% 0;
            opacity: 0;
            pointer-events: none;
            animation: caer linear infinite;
        }

        @keyframes caer {
            0% { transform: translateY(-50px) rotate(0deg); opacity: 0.7; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }

        /* ===== PANTALLA: RESPUESTA S√ç ===== */
        #pantalla-si {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, #ff6b8a, #c0314d, #8b1a2e);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 60;
            overflow: hidden;
        }

        .si-corazones {
            position: absolute;
            inset: 0;
            pointer-events: none;
        }

        .corazon-vuela {
            position: absolute;
            font-size: 2rem;
            animation: volar linear infinite;
            opacity: 0;
        }

        @keyframes volar {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }

        .si-texto {
            font-family: 'Cinzel', serif;
            font-size: clamp(2rem, 8vw, 5rem);
            color: white;
            text-align: center;
            opacity: 0;
            letter-spacing: 6px;
            text-shadow: 0 0 80px rgba(255,255,255,0.5);
            animation: none;
        }

        .si-subtexto {
            margin-top: 20px;
            font-family: 'Dancing Script', cursive;
            font-size: clamp(1.5rem, 5vw, 2.8rem);
            color: rgba(255,255,255,0.8);
            text-align: center;
            opacity: 0;
            animation: none;
        }

        /* Utiles */
        .hidden { display: none !important; }
        .show-flex { display: flex !important; }
    </style>
</head>
<body>

    <!-- ===== CR√âDITOS ===== -->
    <div id="pantalla-creditos">
        <div class="creditos-inner">
            <div class="logo-creditos">üíï</div>

            <div class="credito-row">
                <div class="credito-label">Protagonistas</div>
                <div class="credito-value">Solo t√∫ y yo</div>
            </div>

            <div class="credito-row">
                <div class="credito-label">Direcci√≥n</div>
                <div class="credito-value">El Destino</div>
            </div>

            <div class="credito-row">
                <div class="credito-label">Gui√≥n</div>
                <div class="credito-value">Nuestros Corazones</div>
            </div>

            <div class="credito-row">
                <div class="credito-fecha">21 ¬∑ 02 ¬∑ 2026 ¬∑ 6:00 PM</div>
            </div>

            <div class="credito-row">
                <div class="credito-label">Producci√≥n</div>
                <div class="credito-value">El Amor</div>
            </div>

            <div class="credito-row">
                <div class="credito-cita">"Esta historia apenas est√° comenzando‚Ä¶"</div>
            </div>

            <button class="btn-continuar" id="btn-empezar">Continuar ‚Üí</button>
        </div>
    </div>

    <!-- ===== GALER√çA ===== -->
    <div id="pantalla-galeria">
        <div class="galeria-overlay"></div>
        <div class="galeria-titulo">Allan & Angie</div>
        <div class="galeria-numero" id="galeria-numero">01 / 08</div>

           <div class="imagen-wrapper">
            <!-- Agrega tus im√°genes aqu√≠ con los nombres imagen1, imagen2, etc. -->
            <img class="imagen-slide active" src="fotos/imagen1.jpeg" alt="">
            <img class="imagen-slide" src="fotos/imagen2.jpeg" alt="">
            <img class="imagen-slide" src="fotos/imagen3.jpeg" alt="">
            <img class="imagen-slide" src="fotos/imagen4.jpeg" alt="">
            <img class="imagen-slide" src="fotos/imagen5.jpeg" alt="">
            <img class="imagen-slide" src="fotos/imagen6.jpeg" alt="">
            <img class="imagen-slide" src="fotos/imagen7.jpeg" alt="">
            <img class="imagen-slide" src="fotos/imagen8.jpeg" alt="">
             <img class="imagen-slide" src="fotos/imagen9.jpeg" alt="">
            <img class="imagen-slide" src="fotos/imagen10.jpeg" alt="">
            <div class="timer-line" id="timer-line"></div>
        </div>

        <div class="imagen-caption" id="imagen-caption">Nosotros</div>

        <div class="barra-progreso" id="barra-progreso"></div>
    </div>

    <!-- ===== MENSAJE PREVIO ===== -->
    <div id="pantalla-mensaje">
        <p class="mensaje-texto">Angie,

Dicen que hay flores que solo necesitan el lugar correcto para florecer‚Ä¶
y desde que llegaste a mi vida, entend√≠ que t√∫ eres esa flor especial.

No porque seas fr√°gil, sino porque eres √∫nica, hermosa y valiosa.
Y si me lo permites, quiero ser quien te cuide, quien te abrace en los d√≠as dif√≠ciles y quien te recuerde todos los d√≠as lo incre√≠ble que eres.

Hoy te pido que as√≠ como te entrego mi coraz√≥n me entregues el tuyo para cuidarlo por siempre.</p>
        <button class="btn-por-eso" id="btn-por-eso">Por eso, Angie</button>
    </div>

    <!-- ===== PROPUESTA ===== -->
    <div id="pantalla-propuesta">
        <div id="jardin"></div>

        <div class="propuesta-contenido">
            <div class="propuesta-deco" id="prop-deco">üåπ</div>
            <div class="propuesta-pregunta" id="prop-pregunta">
                ¬øQuieres ser<br><span>mi novia?</span>
            </div>
            <div class="propuesta-sub" id="prop-sub">con todo lo que eso significa ‚ô°</div>
            <div class="propuesta-botones" id="prop-botones">
                <button class="btn-si" id="btn-si">S√≠ ‚ô°</button>
                <button class="btn-todavia" id="btn-todavia">‚Ä¶ya era hora</button>
            </div>
        </div>
    </div>

    <!-- ===== S√ç ===== -->
    <div id="pantalla-si">
        <div class="si-corazones" id="si-corazones"></div>
        <div class="si-texto" id="si-texto">¬°S√ç! ü•Ç</div>
        <div class="si-subtexto" id="si-subtexto">Te Amo Angie üíï</div>
    </div>

    <script>
    // ====================================================
    //  CONFIGURACI√ìN DE CAPTIONS (una por imagen)
    // ====================================================
    const captions = [
        "üíï",
        "üíï",
         "üíï",
          "üíï",
           "üíï",
            "üíï",
             "üíï",
              "üíï",
               "üíï",
                "üíï",
    ];

    // ====================================================
    //  REFERENCIAS DOM
    // ====================================================
    const pantCredi  = document.getElementById('pantalla-creditos');
    const pantGale   = document.getElementById('pantalla-galeria');
    const pantMensaj = document.getElementById('pantalla-mensaje');
    const pantPropue = document.getElementById('pantalla-propuesta');
    const pantSi     = document.getElementById('pantalla-si');

    const slides     = document.querySelectorAll('.imagen-slide');
    const totalSlide = slides.length;
    const barraDiv   = document.getElementById('barra-progreso');
    const numDiv     = document.getElementById('galeria-numero');
    const captDiv    = document.getElementById('imagen-caption');
    const timerLine  = document.getElementById('timer-line');

    let slideActual  = 0;
    let intervaloGal = null;

    // ====================================================
    //  CR√âDITOS ‚Üí GALER√çA
    // ====================================================
    document.getElementById('btn-empezar').addEventListener('click', () => {
        pantCredi.style.display = 'none';
        pantGale.style.display = 'flex';
        initGaleria();
    });

    function resetTimer() {
        timerLine.classList.remove('run');
        timerLine.style.width = '0%';
        timerLine.style.transition = 'none';
        void timerLine.offsetWidth; // force reflow
        setTimeout(() => {
            timerLine.style.transition = '';
            timerLine.classList.add('run');
        }, 30);
    }

    function initGaleria() {
        // Crear dots
        for (let i = 0; i < totalSlide; i++) {
            const d = document.createElement('div');
            d.className = 'prog-dot' + (i === 0 ? ' active' : '');
            barraDiv.appendChild(d);
        }
        captDiv.textContent = captions[0];
        numDiv.textContent  = `01 / ${String(totalSlide).padStart(2,'0')}`;

        resetTimer();

        intervaloGal = setInterval(() => {
            avanzarSlide();
        }, 10000);
    }

    function avanzarSlide() {
        slides[slideActual].classList.remove('active');
        document.querySelectorAll('.prog-dot')[slideActual].classList.remove('active');

        slideActual++;

        if (slideActual >= totalSlide) {
            clearInterval(intervaloGal);
            pantGale.style.display = 'none';
            mostrarMensaje();
            return;
        }

        slides[slideActual].classList.add('active');
        document.querySelectorAll('.prog-dot')[slideActual].classList.add('active');
        captDiv.style.opacity = 0;
        setTimeout(() => {
            captDiv.textContent  = captions[slideActual] || '';
            captDiv.style.opacity = 1;
        }, 600);
        numDiv.textContent = `${String(slideActual+1).padStart(2,'0')} / ${String(totalSlide).padStart(2,'0')}`;

        resetTimer();
    }

    // ====================================================
    //  MENSAJE PREVIO
    // ====================================================
    function mostrarMensaje() {
        pantMensaj.style.display = 'flex';
    }

    document.getElementById('btn-por-eso').addEventListener('click', () => {
        pantMensaj.style.display = 'none';
        mostrarPropuesta();
    });

    // ====================================================
    //  PROPUESTA + FLORES
    // ====================================================
    function mostrarPropuesta() {
        pantPropue.style.display = 'flex';
        crearJardin();
        crearPetalosCayendo();

        // Animar contenido central
        setTimeout(() => animarPropuesta(), 1200);
    }

    function animarPropuesta() {
        const deco = document.getElementById('prop-deco');
        const preg = document.getElementById('prop-pregunta');
        const sub  = document.getElementById('prop-sub');
        const bots = document.getElementById('prop-botones');

        deco.style.transition = 'opacity 1s ease, transform 1s ease';
        deco.style.transform  = 'scale(0)';
        deco.style.opacity    = '0';
        deco.style.transform  = 'scale(1)';
        deco.style.opacity    = '1';

        setTimeout(() => {
            preg.style.transition = 'opacity 1.2s ease, transform 1.2s ease';
            preg.style.opacity    = '1';
            preg.style.transform  = 'translateY(0)';
        }, 300);

        setTimeout(() => {
            sub.style.transition = 'opacity 1s ease';
            sub.style.opacity    = '1';
        }, 900);

        setTimeout(() => {
            bots.style.transition = 'opacity 1s ease';
            bots.style.opacity    = '1';
        }, 1400);
    }

    // ---- Jard√≠n de flores ----
    const floresConfig = [
        // [x%, escala, color-p√©talo, delay]
        [5,  0.65, '#ffb3c6', 0],
        [12, 0.8,  '#ff85a1', 0.3],
        [18, 0.55, '#ffd6e0', 0.6],
        [25, 0.9,  '#e8637a', 0.9],
        [33, 0.7,  '#ffb3c6', 0.4],
        [42, 0.6,  '#ffd6e0', 1.1],
        [58, 0.6,  '#ff85a1', 1.0],
        [67, 0.7,  '#ffd6e0', 0.5],
        [75, 0.9,  '#ffb3c6', 0.8],
        [82, 0.55, '#e8637a', 0.2],
        [88, 0.8,  '#ff85a1', 1.3],
        [95, 0.65, '#ffd6e0', 0.7],
        // segunda fila (m√°s altas)
        [8,  1.1,  '#e8637a', 1.5],
        [20, 1.2,  '#ff85a1', 1.8],
        [35, 1.0,  '#ffd6e0', 2.0],
        [50, 1.3,  '#ffb3c6', 1.6],
        [65, 1.0,  '#e8637a', 2.2],
        [80, 1.2,  '#ff85a1', 1.9],
        [92, 1.1,  '#ffd6e0', 2.1],
    ];

    function crearJardin() {
        const jardin = document.getElementById('jardin');
        jardin.innerHTML = '';

        floresConfig.forEach(([xPct, escala, color, delay], i) => {
            const altTallo = 60 + Math.random() * 80; // px
            const tamCabeza = 28 + Math.random() * 18;

            const wrap = document.createElement('div');
            wrap.style.cssText = `
                position: absolute;
                bottom: 0;
                left: ${xPct}%;
                width: ${tamCabeza * 2}px;
                height: ${altTallo + tamCabeza}px;
                transform: translateX(-50%);
                opacity: 0;
            `;

            // Tallo SVG simple
            const svgTallo = document.createElementNS('http://www.w3.org/2000/svg','svg');
            svgTallo.setAttribute('width', tamCabeza * 2);
            svgTallo.setAttribute('height', altTallo + tamCabeza);
            svgTallo.style.cssText = 'position:absolute;bottom:0;left:0;';

            const cx = tamCabeza; // center x

            // tallo
            const stemPath = document.createElementNS('http://www.w3.org/2000/svg','line');
            stemPath.setAttribute('x1', cx);
            stemPath.setAttribute('y1', altTallo + tamCabeza);
            stemPath.setAttribute('x2', cx);
            stemPath.setAttribute('y2', tamCabeza * 0.6);
            stemPath.setAttribute('stroke', '#5a9068');
            stemPath.setAttribute('stroke-width', 2.5 * escala);
            stemPath.setAttribute('stroke-linecap', 'round');

            // hoja
            const hoja = document.createElementNS('http://www.w3.org/2000/svg','ellipse');
            hoja.setAttribute('cx', cx + 10 * escala);
            hoja.setAttribute('cy', altTallo * 0.55 + tamCabeza);
            hoja.setAttribute('rx', 10 * escala);
            hoja.setAttribute('ry', 5 * escala);
            hoja.setAttribute('fill', '#4a7c59');
            hoja.setAttribute('transform', `rotate(-30,${cx + 10 * escala},${altTallo * 0.55 + tamCabeza})`);

            // p√©talos (5 p√©talos)
            const numPetalos = 5;
            const cy2 = tamCabeza * 0.9;
            for (let p = 0; p < numPetalos; p++) {
                const ang = (p / numPetalos) * 360;
                const petalEll = document.createElementNS('http://www.w3.org/2000/svg','ellipse');
                const rx = tamCabeza * 0.45;
                const ry = tamCabeza * 0.75;
                petalEll.setAttribute('cx', cx);
                petalEll.setAttribute('cy', cy2 - ry * 0.5);
                petalEll.setAttribute('rx', rx);
                petalEll.setAttribute('ry', ry);
                petalEll.setAttribute('fill', color);
                petalEll.setAttribute('opacity', '0.85');
                petalEll.setAttribute('transform', `rotate(${ang},${cx},${cy2})`);
                svgTallo.appendChild(petalEll);
            }

            // centro
            const centro = document.createElementNS('http://www.w3.org/2000/svg','circle');
            centro.setAttribute('cx', cx);
            centro.setAttribute('cy', cy2);
            centro.setAttribute('r', tamCabeza * 0.28);
            centro.setAttribute('fill', '#d4a853');

            svgTallo.appendChild(stemPath);
            svgTallo.appendChild(hoja);
            svgTallo.appendChild(centro);
            wrap.appendChild(svgTallo);
            jardin.appendChild(wrap);

            // Animar florecimiento
            setTimeout(() => {
                wrap.style.transition = `opacity 0.4s ease`;
                wrap.style.opacity = '1';

                // Escalar de 0 hacia arriba
                const anim = wrap.animate([
                    { transform: `translateX(-50%) scaleY(0)`, transformOrigin: 'bottom' },
                    { transform: `translateX(-50%) scaleY(${escala})`, transformOrigin: 'bottom' }
                ], {
                    duration: 1200,
                    easing: 'cubic-bezier(0.34,1.56,0.64,1)',
                    fill: 'forwards'
                });
            }, delay * 1000);
        });
    }

    function crearPetalosCayendo() {
        const propue = document.getElementById('pantalla-propuesta');
        const colores = ['#ffb3c6','#ff85a1','#ffd6e0','#e8637a','#f4a7b9'];

        for (let i = 0; i < 22; i++) {
            const p = document.createElement('div');
            const tam = 8 + Math.random() * 12;
            p.className = 'petalo-cae';
            p.style.cssText = `
                width: ${tam}px;
                height: ${tam}px;
                background: ${colores[Math.floor(Math.random()*colores.length)]};
                left: ${Math.random()*100}%;
                top: -30px;
                animation-duration: ${6 + Math.random()*8}s;
                animation-delay: ${Math.random()*12}s;
                transform: rotate(${Math.random()*360}deg);
            `;
            propue.appendChild(p);
        }
    }

    // ====================================================
    //  RESPUESTA S√ç
    // ====================================================
    function responderSi() {
        pantPropue.style.display = 'none';
        pantSi.style.display = 'flex';
        lanzarCorazones();

        const textoSi  = document.getElementById('si-texto');
        const textoSub = document.getElementById('si-subtexto');

        setTimeout(() => {
            textoSi.style.transition = 'opacity 1.5s ease, transform 1.5s ease';
            textoSi.style.opacity = '1';
            textoSi.style.transform = 'scale(1)';
        }, 400);

        setTimeout(() => {
            textoSub.style.transition = 'opacity 1.2s ease';
            textoSub.style.opacity = '1';
        }, 1400);
    }

    function lanzarCorazones() {
        const cont = document.getElementById('si-corazones');
        const emojis = ['üíï','üíñ','üíó','üíì','‚ù§Ô∏è','üåπ','‚ú®','üíù'];

        for (let i = 0; i < 30; i++) {
            const c = document.createElement('div');
            c.className = 'corazon-vuela';
            c.textContent = emojis[Math.floor(Math.random()*emojis.length)];
            c.style.cssText = `
                left: ${Math.random()*100}%;
                animation-duration: ${4+Math.random()*5}s;
                animation-delay: ${Math.random()*8}s;
                font-size: ${1.2+Math.random()*2}rem;
            `;
            cont.appendChild(c);
        }
    }

    document.getElementById('btn-si').addEventListener('click', responderSi);
    document.getElementById('btn-todavia').addEventListener('click', responderSi);

    // init estados de propuesta
    document.getElementById('prop-deco').style.opacity = '0';
    document.getElementById('prop-pregunta').style.cssText += 'opacity:0;transform:translateY(30px)';
    document.getElementById('prop-sub').style.opacity = '0';
    document.getElementById('prop-botones').style.opacity = '0';
    document.getElementById('si-texto').style.cssText += 'opacity:0;transform:scale(0.8)';
    document.getElementById('si-subtexto').style.opacity = '0';
    </script>
</body>
</html>